<link rel="import" href="../../bower_components/polymer/polymer.html"/>

<dom-module id="taaabs-trace-display-icons-zoom">
  <link rel="import" type="css" href="../../bower_components/samotracesjs/dist/samotraces.css"/>

  <template>
    <div id="trace-icon-zoom"></div>
  </template>

  <script src="../../bower_components/samotracesjs/src/UI/Widgets/TraceDisplayIconsZoom.js"></script>

  <script>
    Polymer({
      is: "taaabs-trace-display-icons-zoom",
      properties: {
        time: {
          type: Object,
          notify: true,
          value: function() { return {}; },
          observer: '_timeChanged'
        },
        trace: {
          type: Object,
          notify: true,
          value: function() { return {}; }
        }
      },
      _timeChanged: function(newValue, oldValue) {
        this.options = {
          url: function(o) {
            var path = "../../lib/images/";
            switch(o.type) {
              case 'Ouverture_Page':
                return path + 'Orange.png';
              default:
                return path + 'help.png';
            }
          }
        };
        this.trace.list_obsels();
        new Samotraces.UI.Widgets.TraceDisplayIconsZoom(this.$$("#trace-icon-zoom"), this.trace, this.time, this.options);
      }
    });
  </script>
</dom-module>
